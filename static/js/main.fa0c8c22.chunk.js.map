{"version":3,"sources":["index.ts","action/action.tsx","phocus-context/phocus-context.tsx","phocus-button/phocus-button.tsx","phocus-modal/phocus-modal.tsx","command-palette/key-command.tsx","utils.ts","command-palette/with-command-palette.tsx","command-palette/command-palette.tsx","command-palette/action-search.tsx","command-palette/command-palette-action.tsx","command-palette/rebinding-modal.tsx","todo-list-model.js","todo-item-view/TodoItemView.js","todo-list-view/TodoListView.js","app/App.js","registerServiceWorker.js","index.js"],"names":["with_command_palette_1","PhocusModal","prototype","e","Match","this","rebind","TodoItem","name","id","status","decorate","observable","start","action","finish","TodoListClass","maxId","itemById","Object","keys","map","k","remove","items","computed","add","TodoList","ActionContextService","addContext","actions","Action","defaultKeys","actOn","item","delete","current","document","getElementById","previous","previousElementSibling","next","nextElementSibling","focus","triggerAction","TodoItemView","observer","props","context","argument","tag","tabIndex","className","Component","c","focusTodoName","newTodoName","clearTodoName","TodoListView","newTodoInput","React","createRef","value","key","type","ref","data-phocus-action","App","data-phocus-id","style","color","href","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","catch","error","ReactDOM","render","URL","process","origin","addEventListener","fetch","response","headers","get","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker","startPhocus","body"],"mappings":"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","file":"static/js/main.fa0c8c22.chunk.js","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar phocus_button_1 = require(\"./phocus-button/phocus-button\");\nexports.PhocusButton = phocus_button_1.PhocusButton;\nvar phocus_context_1 = require(\"./phocus-context/phocus-context\");\nexports.PhocusContext = phocus_context_1.PhocusContext;\nvar action_1 = require(\"./action/action\");\nexports.Action = action_1.Action;\nvar phocus_1 = require(\"phocus\");\nexports.ActionContextService = phocus_1.ActionContextService;\nexports.Hotkey = phocus_1.Hotkey;\nexports.ConstrainFocusService = phocus_1.ConstrainFocusService;\nexports.startPhocus = phocus_1.startPhocus;\nexports.focusInContext = phocus_1.focusInContext;\nvar with_command_palette_1 = require(\"./command-palette/with-command-palette\");\nexports.WithCommandPalette = with_command_palette_1.WithCommandPalette;\nvar phocus_modal_1 = require(\"./phocus-modal/phocus-modal\");\nexports.PhocusModal = phocus_modal_1.PhocusModal;\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar phocus_1 = require(\"phocus\");\nvar utils_1 = require(\"../utils\");\nvar Action = /** @class */ (function (_super) {\n    __extends(Action, _super);\n    function Action(description) {\n        var _this = this;\n        var actOn = description.actOn, desc = __rest(description, [\"actOn\"]);\n        var wrappedActOn = function (arg, element, event) {\n            if (element) {\n                var component = utils_1.componentForElement(element);\n                arg = component.props.argument;\n            }\n            _this.unwrappedActOn(arg, element, event);\n        };\n        _this = _super.call(this, __assign(__assign({}, desc), { actOn: wrappedActOn })) || this;\n        _this.unwrappedActOn = actOn;\n        return _this;\n    }\n    return Action;\n}(phocus_1.Action));\nexports.Action = Action;\n//# sourceMappingURL=action.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar PhocusContext = /** @class */ (function (_super) {\n    __extends(PhocusContext, _super);\n    function PhocusContext() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    PhocusContext.prototype.render = function () {\n        var _a = this.props, tag = _a.tag, context = _a.context, argument = _a.argument, bprops = __rest(_a, [\"tag\", \"context\", \"argument\"]);\n        return React.createElement(this.props.tag, __assign({ \"data-phocus-context-name\": context }, bprops));\n    };\n    PhocusContext.defaultProps = {\n        tag: \"div\"\n    };\n    return PhocusContext;\n}(React.Component));\nexports.PhocusContext = PhocusContext;\n//# sourceMappingURL=phocus-context.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nfunction PhocusButton(props) {\n    var action = props.action, children = props.children, doNotLabel = props.doNotLabel, phocusId = props.phocusId, bprops = __rest(props, [\"action\", \"children\", \"doNotLabel\", \"phocusId\"]);\n    return (React.createElement(\"button\", __assign({ \"data-phocus-action\": action, \"data-phocus-id\": phocusId, \"data-phocus-do-not-label\": doNotLabel }, bprops), children));\n}\nexports.PhocusButton = PhocusButton;\n//# sourceMappingURL=phocus-button.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar ReactDOM = require(\"react-dom\");\nvar phocus_1 = require(\"phocus\");\nvar action_1 = require(\"../action/action\");\nvar phocus_context_1 = require(\"../phocus-context/phocus-context\");\nvar phocus_button_1 = require(\"../phocus-button/phocus-button\");\nphocus_1.ActionContextService.addContext(\"modal\", {\n    actions: {\n        closeModal: new action_1.Action({\n            name: \"Close modal\",\n            shortDocumentation: \"Closes the currently open modal\",\n            searchTerms: [],\n            defaultKeys: [\"Escape\"],\n            actOn: function (component) {\n                component.props.close();\n            }\n        })\n    }\n});\nvar PhocusModal = /** @class */ (function (_super) {\n    __extends(PhocusModal, _super);\n    function PhocusModal(props) {\n        var _this = _super.call(this, props) || this;\n        _this.el = document.createElement(\"div\");\n        document.body.appendChild(_this.el);\n        return _this;\n    }\n    PhocusModal.prototype.componentDidMount = function () {\n        var _this = this;\n        phocus_1.ConstrainFocusService.pushConstraint(function () { return _this.el; });\n        Array.from(document.body.children).forEach(function (e) {\n            if (e === _this.el)\n                return;\n            if (e.getAttribute(\"aria-hidden\"))\n                e.phocusOldAriaHidden = e.getAttribute(\"aria-hidden\");\n            e.setAttribute(\"aria-hidden\", \"true\");\n        });\n    };\n    PhocusModal.prototype.componentWillUnmount = function () {\n        Array.from(document.body.children).forEach(function (e) {\n            e.setAttribute(\"aria-hidden\", e.dataset.phocusOldAriaHidden || \"false\");\n        });\n        phocus_1.ConstrainFocusService.popConstraint();\n    };\n    PhocusModal.prototype.render = function () {\n        return ReactDOM.createPortal(React.createElement(phocus_context_1.PhocusContext, { context: \"modal\", argument: this, className: \"phocus-modal--container\" },\n            this.props.children,\n            React.createElement(phocus_button_1.PhocusButton, { action: \"closeModal\", className: \"phocus-modal--background\" },\n                React.createElement(\"span\", null))), this.el);\n    };\n    return PhocusModal;\n}(React.Component));\nexports.PhocusModal = PhocusModal;\n//# sourceMappingURL=phocus-modal.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar phocus_1 = require(\"phocus\");\nvar KeyCommand = /** @class */ (function (_super) {\n    __extends(KeyCommand, _super);\n    function KeyCommand() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    KeyCommand.prototype.keys = function () {\n        return this.props.action.keys\n            .filter(function (k) { return k !== \"None\"; })\n            .map(function (k) { return phocus_1.Hotkey.displayKey(k); });\n    };\n    KeyCommand.prototype.render = function () {\n        return (React.createElement(\"span\", { className: \"phocus-key-command\" },\n            this.keys().length === 0 && \"unbound\",\n            this.keys().map(function (key, i) {\n                return (React.createElement(\"span\", { key: i },\n                    !!i && \" or \",\n                    React.createElement(\"span\", { className: \"phocus-key-command--key\" }, key)));\n            })));\n    };\n    return KeyCommand;\n}(React.Component));\nexports.KeyCommand = KeyCommand;\n//# sourceMappingURL=key-command.js.map","\"use strict\";\n// Many contexts will want to interact with the relevant react component. This\n// will take a DOM element and return the React component that created it.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction componentForElement(el) {\n    for (var key in el) {\n        if (key.startsWith('__reactInternalInstance$')) {\n            var fiberNode = el[key];\n            return fiberNode && fiberNode.return && fiberNode.return.stateNode;\n        }\n    }\n    if (el.parentElement) {\n        return componentForElement(el.parentElement);\n    }\n}\nexports.componentForElement = componentForElement;\n;\n//# sourceMappingURL=utils.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar phocus_1 = require(\"phocus\");\nvar action_1 = require(\"../action/action\");\nvar phocus_modal_1 = require(\"../phocus-modal/phocus-modal\");\nvar command_palette_1 = require(\"./command-palette\");\nphocus_1.ActionContextService.addContext(\"with-command-palette\", {\n    actions: {\n        showPalette: new action_1.Action({\n            name: \"Command palette\",\n            defaultKeys: [\"Control+Shift+?\", \"Shift+Meta+P\", \"Control+Shift+P\"],\n            actOn: function (component) {\n                component.showPalette();\n            }\n        })\n    }\n});\nvar WithCommandPalette = /** @class */ (function (_super) {\n    __extends(WithCommandPalette, _super);\n    function WithCommandPalette() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            paletteOpen: false\n        };\n        _this.hidePalette = function () {\n            _this.setState({ paletteOpen: false });\n        };\n        return _this;\n    }\n    WithCommandPalette.prototype.showPalette = function () {\n        this.setState({ paletteOpen: true });\n    };\n    WithCommandPalette.prototype.componentDidMount = function () {\n        phocus_1.ActionContextService.addDefaultContext(\"with-command-palette\", this);\n    };\n    WithCommandPalette.prototype.componentDidUnMount = function () {\n        phocus_1.ActionContextService.removeDefaultContext(\"with-command-palette\", this);\n    };\n    WithCommandPalette.prototype.render = function () {\n        return (React.createElement(\"div\", { className: \"phocus-with-command-palette\" },\n            this.props.children,\n            this.state.paletteOpen && (React.createElement(phocus_modal_1.PhocusModal, { close: this.hidePalette },\n                React.createElement(command_palette_1.CommandPalette, null)))));\n    };\n    return WithCommandPalette;\n}(React.Component));\nexports.WithCommandPalette = WithCommandPalette;\n//# sourceMappingURL=with-command-palette.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar phocus_1 = require(\"phocus\");\nvar action_1 = require(\"../action/action\");\nvar phocus_context_1 = require(\"../phocus-context/phocus-context\");\nvar action_search_1 = require(\"./action-search\");\nvar command_palette_action_1 = require(\"./command-palette-action\");\nphocus_1.ActionContextService.addContext(\"command-palette\", {\n    actions: {\n        doit: new action_1.Action({\n            name: \"Take the first action\",\n            defaultKeys: [\"Enter\"],\n            actOn: function (component) {\n                phocus_1.ActionContextService.triggerAction(\"closeModal\");\n                component.search()[0].act();\n            }\n        }),\n        focusFirst: new action_1.Action({\n            hidden: true,\n            name: \"Focus on the first action\",\n            defaultKeys: [\"ArrowDown\"],\n            actOn: function (component) {\n                phocus_1.focusInContext(\"action-0\");\n            }\n        })\n    }\n});\nvar CommandPalette = /** @class */ (function (_super) {\n    __extends(CommandPalette, _super);\n    function CommandPalette() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            search: \"\",\n            actions: []\n        };\n        return _this;\n    }\n    CommandPalette.prototype.componentWillMount = function () {\n        this.setState({ actions: phocus_1.ActionContextService.availableActions });\n    };\n    CommandPalette.prototype.search = function () {\n        return action_search_1.filterActions(this.state.actions, this.state.search);\n    };\n    CommandPalette.prototype.render = function () {\n        var _this = this;\n        return (React.createElement(phocus_context_1.PhocusContext, { context: \"command-palette\", argument: this, className: \"phocus-command-palette\" },\n            React.createElement(\"div\", { className: \"phocus-command-palette--hint\" }, \"Hint: try opening this command palette while different things are focused.\"),\n            React.createElement(\"input\", { onChange: function (e) { return _this.setState({ search: e.target.value }); }, value: this.state.search }),\n            this.search().map(function (a, i) { return (React.createElement(command_palette_action_1.CommandPaletteAction, { action: a, key: i, id: i })); })));\n    };\n    return CommandPalette;\n}(React.Component));\nexports.CommandPalette = CommandPalette;\n//# sourceMappingURL=command-palette.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Bonuses = {\n    wordBoundary: 30,\n    consecutiveLetters: 15,\n    separation: -1,\n    distanceFromFilename: -10,\n    repeatedSelection: 10,\n    recentSelection: 10\n};\nvar Match = /** @class */ (function () {\n    function Match(value, key, searchRegex) {\n        this.matched = false;\n        this.matchList = [];\n        this.parts = [];\n        this.value = value;\n        this.name = key(value);\n        this.regex = searchRegex;\n        if (!this.name) {\n            this.matched = false;\n            return;\n        }\n        var matchList = this.name.toLowerCase().match(searchRegex);\n        if (!matchList) {\n            this.matched = false;\n            return;\n        }\n        this.matched = true;\n        this.matchList = matchList.slice(1);\n        this.parts = this.getParts();\n    }\n    Match.search = function (search, list, key) {\n        search = search.toLowerCase();\n        var regex = new RegExp(\"(.*?)(\" + search.split(\"\").map(function (s) { return s.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&'); }).join(\")(.*?)(\") + \")(.*)\");\n        var matches = Array.from(list).map(function (item) { return new Match(item, key, regex); });\n        matches = matches.filter(function (m) { return m.matched; });\n        matches.sort(function (a, b) { return b.score() - a.score(); });\n        return matches.map(function (m) { return m.value; });\n    };\n    Match.prototype.totalLength = function () {\n        return this.parts[this.parts.length - 1].index - this.parts[0].index + 1;\n    };\n    Match.prototype.matchedLength = function () {\n        return (this.matchList.length - 1) / 2;\n    };\n    Match.prototype.getParts = function () {\n        var _this = this;\n        var ind = -1;\n        var ret = (function () {\n            var result = [];\n            for (var i = 0, end = _this.matchedLength(), asc = 0 <= end; asc ? i < end : i > end; asc ? i++ : i--) {\n                ind += _this.matchList[i * 2].length + _this.matchList[i * 2 + 1].length;\n                result.push({\n                    match: _this.matchList[i * 2 + 1],\n                    index: ind\n                });\n            }\n            return result;\n        })();\n        return ret;\n    };\n    Match.prototype.wordBoundaryBonus = function () {\n        var bonus = 0;\n        for (var _i = 0, _a = Array.from(this.parts); _i < _a.length; _i++) {\n            var part = _a[_i];\n            if (part.index === 0 ||\n                this.name[part.index - 1] === \"-\" ||\n                this.name[part.index - 1] === \" \") {\n                bonus += Bonuses.wordBoundary;\n            }\n        }\n        return bonus;\n    };\n    Match.prototype.separationBonus = function () {\n        return (this.totalLength() - this.matchedLength()) * Bonuses.separation;\n    };\n    Match.prototype.consecutiveLettersBonus = function () {\n        var bonus = 0;\n        for (var i = 1, end = this.parts.length, asc = 1 <= end; asc ? i < end : i > end; asc ? i++ : i--) {\n            if (this.parts[i].index - this.parts[i - 1].index === 1) {\n                bonus += Bonuses.consecutiveLetters;\n            }\n        }\n        return bonus;\n    };\n    Match.prototype.score = function () {\n        return (this.separationBonus() +\n            this.wordBoundaryBonus() +\n            this.consecutiveLettersBonus());\n    };\n    return Match;\n}());\nfunction filterActions(actions, search) {\n    return Match.search(search, actions, function (v) { return v.action.name; });\n}\nexports.filterActions = filterActions;\n//# sourceMappingURL=action-search.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar phocus_1 = require(\"phocus\");\nvar action_1 = require(\"../action/action\");\nvar phocus_context_1 = require(\"../phocus-context/phocus-context\");\nvar phocus_button_1 = require(\"../phocus-button/phocus-button\");\nvar phocus_modal_1 = require(\"../phocus-modal/phocus-modal\");\nvar rebinding_modal_1 = require(\"./rebinding-modal\");\nvar key_command_1 = require(\"./key-command\");\nphocus_1.ActionContextService.addContext(\"command-palette-action\", {\n    actions: {\n        takeAction: new action_1.Action({\n            name: \"Take this action\",\n            shortDocumentation: \"Take the action\",\n            actOn: function (c, _, e) {\n                phocus_1.ActionContextService.triggerAction(\"closeModal\");\n                c.props.action.act(e);\n            },\n            defaultKeys: [\"Enter\"]\n        }),\n        rebind: new action_1.Action({\n            name: \"Edit Hotkey\",\n            shortDocumentation: \"Rebind or alter the hotkey for this action\",\n            actOn: function (c, _, e) {\n                if (e) {\n                    e.stopPropagation();\n                    e.preventDefault();\n                }\n                c.editHotkey();\n            },\n            defaultKeys: [\"e\"]\n        }),\n        next: new action_1.Action({\n            name: \"Next\",\n            defaultKeys: [\"ArrowDown\"],\n            actOn: function (c) {\n                phocus_1.focusInContext(\"action-\" + (c.props.id + 1));\n            }\n        }),\n        previous: new action_1.Action({\n            name: \"Previous\",\n            defaultKeys: [\"ArrowUp\"],\n            actOn: function (c) {\n                phocus_1.focusInContext(\"action-\" + (c.props.id - 1));\n            }\n        })\n    }\n});\nvar CommandPaletteAction = /** @class */ (function (_super) {\n    __extends(CommandPaletteAction, _super);\n    function CommandPaletteAction() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            hotkeyModalOpen: false\n        };\n        _this.cancelEdit = function () {\n            _this.setState({ hotkeyModalOpen: false });\n        };\n        return _this;\n    }\n    CommandPaletteAction.prototype.editHotkey = function () {\n        this.setState({ hotkeyModalOpen: true });\n    };\n    CommandPaletteAction.prototype.render = function () {\n        return (React.createElement(phocus_context_1.PhocusContext, { context: \"command-palette-action\", argument: this },\n            React.createElement(\"div\", { className: \"phocus-command-palette-action\", \"data-phocus-id\": \"action-\" + this.props.id, \"data-phocus-on-mouseover\": true, \"data-phocus-do-not-label\": true, \"data-phocus-action\": \"takeAction\", role: \"button\", tabIndex: 0 },\n                React.createElement(\"div\", { className: \"phocus-command-palette-action--name\" }, this.props.action.action.name),\n                React.createElement(\"div\", { className: \"phocus-command-palette-action--description\" }, this.props.action.action.shortDocumentation),\n                React.createElement(phocus_button_1.PhocusButton, { action: \"rebind\", className: \"phocus-command-palette-action--key-command\", doNotLabel: true },\n                    React.createElement(key_command_1.KeyCommand, { action: this.props.action.action }))),\n            this.state.hotkeyModalOpen && (React.createElement(phocus_modal_1.PhocusModal, { close: this.cancelEdit },\n                React.createElement(rebinding_modal_1.RebindingModal, { action: this.props.action.action })))));\n    };\n    return CommandPaletteAction;\n}(React.Component));\nexports.CommandPaletteAction = CommandPaletteAction;\n//# sourceMappingURL=command-palette-action.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar ReactDOM = require(\"react-dom\");\nvar phocus_1 = require(\"phocus\");\nvar action_1 = require(\"../action/action\");\nvar phocus_context_1 = require(\"../phocus-context/phocus-context\");\nvar key_command_1 = require(\"./key-command\");\nvar phocus_button_1 = require(\"../phocus-button/phocus-button\");\nphocus_1.ActionContextService.addContext(\"keybinding-modal\", {\n    actions: {\n        rebind: new action_1.Action({\n            name: \"Change Hotkey\",\n            shortDocumentation: \"Rebind the hotkey for this action\",\n            searchTerms: [\"remap\", \"rebind\", \"change\", \"hotkey\"],\n            actOn: function (c) { return c.startRemapping(); },\n            defaultKeys: [\"c\"]\n        }),\n        unmap: new action_1.Action({\n            name: \"Remove Hotkey\",\n            shortDocumentation: \"No key will perform this action\",\n            searchTerms: [\"remap\", \"rebind\", \"change\", \"hotkey\"],\n            actOn: function (c) {\n                phocus_1.ActionContextService.unmapAction(c.props.action);\n                phocus_1.ActionContextService.triggerAction(\"closeModal\");\n            },\n            defaultKeys: [\"r\"]\n        }),\n        unremap: new action_1.Action({\n            name: \"Restore defaults\",\n            shortDocumentation: \"Restore the default hotkeys for this action\",\n            searchTerms: [\"remap\", \"rebind\", \"change\", \"hotkey\", \"defaults\"],\n            actOn: function (c) {\n                phocus_1.ActionContextService.unremapAction(c.props.action);\n                phocus_1.ActionContextService.triggerAction(\"closeModal\");\n            },\n            defaultKeys: [\"d\"]\n        })\n    }\n});\nvar RebindingModal = /** @class */ (function (_super) {\n    __extends(RebindingModal, _super);\n    function RebindingModal() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            remapping: false\n        };\n        _this.remap = function (e) {\n            var newMapping = phocus_1.Hotkey.canonicalKeyFromEvent(e.nativeEvent);\n            if (!newMapping)\n                return;\n            phocus_1.ActionContextService.remapAction(_this.props.action, newMapping);\n            e.stopPropagation();\n            e.preventDefault();\n            _this.setState({ remapping: false });\n            phocus_1.ActionContextService.triggerAction(\"closeModal\");\n        };\n        return _this;\n    }\n    RebindingModal.prototype.startRemapping = function () {\n        this.setState({ remapping: true });\n    };\n    RebindingModal.prototype.componentDidMount = function () {\n        phocus_1.ActionContextService.setContext(ReactDOM.findDOMNode(this));\n    };\n    RebindingModal.prototype.render = function () {\n        return (React.createElement(phocus_context_1.PhocusContext, { context: \"keybinding-modal\", argument: this, className: \"phocus-keybinding-modal\" },\n            React.createElement(\"div\", { className: \"phocus-keybinding-modal--binding\" },\n                React.createElement(\"strong\", null, this.props.action.name),\n                \":\",\n                !this.state.remapping && React.createElement(key_command_1.KeyCommand, { action: this.props.action }),\n                this.state.remapping && React.createElement(\"input\", { onKeyDown: this.remap, autoFocus: true })),\n            React.createElement(\"div\", { className: \"phocus-keybinding-modal--actions\" },\n                React.createElement(phocus_button_1.PhocusButton, { action: \"rebind\" }),\n                React.createElement(phocus_button_1.PhocusButton, { action: \"unmap\" }),\n                React.createElement(phocus_button_1.PhocusButton, { action: \"unremap\" }))));\n    };\n    return RebindingModal;\n}(React.Component));\nexports.RebindingModal = RebindingModal;\n//# sourceMappingURL=rebinding-modal.js.map","import { action, computed, observable, decorate } from \"mobx\";\n\nexport class TodoItem {\n  status = \"todo\";\n  name = \"\";\n  constructor(name, id) {\n    this.name = name;\n    this.id = id;\n  }\n\n  start() {\n    this.status = \"started\";\n  }\n\n  finish() {\n    this.status = \"finished\";\n  }\n}\n\ndecorate(TodoItem, {\n  status: observable,\n  name: observable,\n  start: action,\n  finish: action\n});\n\nexport class TodoListClass {\n  maxId = 0;\n  itemById = {};\n\n  get items() {\n    return Object.keys(this.itemById).map(k => this.itemById[k]);\n  }\n\n  remove(id) {\n    delete this.itemById[id];\n  }\n\n  add(name) {\n    this.maxId++;\n    this.itemById[this.maxId] = new TodoItem(name, this.maxId);\n  }\n}\ndecorate(TodoListClass, {\n  itemById: observable,\n  name: observable,\n  remove: action,\n  items: computed,\n  add: action\n});\n\nexport const TodoList = new TodoListClass();\nTodoList.add(\"Eat a cheese\");\nTodoList.add(\"Sing about sixpence\");\nTodoList.add(\"Go forth, or fifth\");\n","import React, { Component } from \"react\";\nimport {\n  PhocusContext,\n  PhocusButton,\n  Action,\n  ActionContextService\n} from \"react-phocus\";\nimport { observer } from \"mobx-react\";\nimport { TodoList } from \"../todo-list-model\";\nimport \"./todo-item-view.css\";\n\nActionContextService.addContext(\"todo-item\", {\n  actions: {\n    start: new Action({\n      name: \"Start\",\n      defaultKeys: [\"s\"],\n      actOn: item => {\n        item.start();\n      }\n    }),\n    finish: new Action({\n      name: \"Finish\",\n      defaultKeys: [\"f\"],\n      actOn: item => {\n        item.finish();\n      }\n    }),\n    delete: new Action({\n      name: \"Delete\",\n      defaultKeys: [\"Backspace\"],\n      actOn: item => {\n        const current = document.getElementById(`todo-item-${item.id}`);\n        const previous = current.previousElementSibling;\n        const next = current.nextElementSibling;\n        if (previous) {\n          previous.focus();\n        } else if (next) {\n          next.focus();\n        } else {\n          ActionContextService.triggerAction(\"add\");\n        }\n        TodoList.remove(item.id);\n      }\n    }),\n    next: new Action({\n      name: \"Next\",\n      defaultKeys: [\"ArrowDown\", \"j\"],\n      actOn: item => {\n        const current = document.getElementById(`todo-item-${item.id}`);\n        const next = current.nextElementSibling;\n        next && next.focus();\n      }\n    }),\n    previous: new Action({\n      name: \"previous\",\n      defaultKeys: [\"ArrowUp\", \"k\"],\n      actOn: item => {\n        const current = document.getElementById(`todo-item-${item.id}`);\n        const previous = current.previousElementSibling;\n        previous && previous.focus();\n      }\n    })\n  }\n});\n\nexport const TodoItemView = observer(\n  class TodoItemView extends Component {\n    render() {\n      const item = this.props.item;\n      return (\n        <PhocusContext\n          context=\"todo-item\"\n          argument={item}\n          tag=\"li\"\n          tabIndex=\"0\"\n          className={`todo-item ${item.status}`}\n          id={`todo-item-${item.id}`}\n        >\n          <div className=\"name\">{item.name}</div>\n          <div className=\"buttons\">\n            {item.status === \"todo\" && <PhocusButton action=\"start\" />}\n            {item.status === \"started\" && (\n              <PhocusButton action=\"finish\" className=\"finish\" />\n            )}\n            <PhocusButton action=\"delete\" className=\"warn\">\n              &times;\n            </PhocusButton>\n          </div>\n        </PhocusContext>\n      );\n    }\n  }\n);\n","import React, { Component } from \"react\";\nimport { PhocusContext, Action, ActionContextService } from \"react-phocus\";\nimport { observer } from \"mobx-react\";\n\nimport { TodoItemView } from \"../todo-item-view/TodoItemView\";\nimport { TodoList } from \"../todo-list-model\";\n\nimport \"./todo-list-view.css\";\n\nActionContextService.addContext(\"todo-list\", {\n  actions: {\n    add: new Action({\n      name: \"Add Todo\",\n      defaultKeys: [\"Alt+n\"],\n      actOn: c => {\n        c.focusTodoName();\n      }\n    })\n  }\n});\n\nActionContextService.addContext(\"todo-item-form\", {\n  actions: {\n    add: new Action({\n      name: \"Add Todo\",\n      defaultKeys: [\"Enter\"],\n      actOn: c => {\n        TodoList.add(c.newTodoName());\n        c.clearTodoName();\n      }\n    })\n  }\n});\n\nexport const TodoListView = observer(\n  class TodoListView extends Component {\n    newTodoInput = React.createRef();\n\n    newTodoName() {\n      return this.newTodoInput.current.value;\n    }\n\n    clearTodoName() {\n      return (this.newTodoInput.current.value = \"\");\n    }\n\n    focusTodoName() {\n      this.newTodoInput.current.focus();\n    }\n\n    render() {\n      return (\n        <PhocusContext className=\"todo-list-view\" argument={this} context=\"todo-list\">\n          <div className=\"active\">Example has focus</div>\n          <ul className=\"list\">\n            {TodoList.items.map(item => (\n              <TodoItemView item={item} key={item.id} />\n            ))}\n          </ul>\n\n          <PhocusContext\n            context=\"todo-item-form\"\n            argument={this}\n            className=\"new-item-form\"\n          >\n            <input type=\"text\" ref={this.newTodoInput} />\n            <button data-phocus-action=\"add\" />\n          </PhocusContext>\n        </PhocusContext>\n      );\n    }\n  }\n);\n","import React, { Component } from \"react\";\nimport { TodoListView } from \"../todo-list-view/TodoListView\";\nimport { WithCommandPalette } from \"react-phocus\";\nimport 'react-phocus/dist/react-phocus.css';\n\nexport class App extends Component {\n  render() {\n    return (\n      <WithCommandPalette>\n      <div>\n        <h1>React-Phocus: A Todo List Example</h1>\n        <TodoListView />\n        <div className=\"descriptive-text\">\n          <p>\n            Phocus manages actions, hotkeys, and focus for poweruser-friendly,\n            accessible webapps.\n          </p>\n\n          <p>\n            This is an absolutely pared-down example of how to use Phocus.\n            Phocus is not intended to be used stand-alone like this; it's\n            intended to be paired with the frontend framework of your choice. A\n            wrapper for react is coming soon.\n          </p>\n\n          <p>Things to note:</p>\n          <ul>\n            <li>Try using the arrow keys, or j and k, to move between list items.</li>\n            <li><strong>Press Control-Shift-? to see a palette of actions you can take.</strong> Focus on different items, and see how the palette changes.</li>\n            <li><span tabIndex=\"0\" data-phocus-id=\"todo-item-2\" style={{color: \"blue\"}}>This text</span> has the same\n              phocus-id as one of the todo items, but phocus never mistakenly focuses on it instead.</li>\n            <li>In the source, none of these buttons have text; empty buttons are given default labels by Phocus.</li>\n            <li>Buttons are given aria labels and tooltips which describe their behavior, and any relevant keyboard\n              shortcut. A screenreader will read the &times; button as \"Delete (backspace)\".</li>\n          </ul>\n          <p>\n            Read more about how to use react-phocus in its README on{\" \"}\n            <a href=\"https://github.com/diiq/react-phocus\">Github</a>. View the source\n            for this example{\" \"}\n            <a href=\"https://github.com/diiq/react-phocus-example\">here</a>.\n          </p>\n        </div>\n      </div>\n      </WithCommandPalette>\n    );\n  }\n}\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { App } from './app/App';\nimport registerServiceWorker from './registerServiceWorker';\nimport { startPhocus } from \"react-phocus\";\n\nReactDOM.render(<App />, document.getElementById('root'));\nregisterServiceWorker();\nstartPhocus(document.body);\n"],"sourceRoot":""}